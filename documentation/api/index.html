<!DOCTYPE html>
<html lang="en"><head>  <meta charset="UTF-8">  <title>Tilepieces documentation | api</title>  <meta name="description" content="Tilepieces documentation version 0.1.x">  <meta name="viewport" content="width=device-width,initial-scale=1.0">  <link href="/components/documentation/bundle/documentation.css" rel="stylesheet" data-tilepieces-component="documentation/bundle">  <link rel="icon" href="/tp-favi.png">  <link rel="apple-touch-icon" href="/tp-favi-180.png"><link rel="canonical" href="https://tilepieces.net/documentation/api/"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@tilepieces"><meta property="og:url" content="https://tilepieces.net/documentation/api/"><meta property="og:title" content="Tilepieces documentation | api"><meta property="og:description" content="Tilepieces documentation version 0.1.x"><meta property="og:type" content="website"><meta property="og:image" content="https://pwa.tilepieces.net/TilePieces_maskable_icon.png"><meta property="og:image:type" content="image/png"><meta property="og:image:width" content="500"><meta property="og:image:height" content="500"><meta property="og:image:alt" content="Tilepieces logo."></head><body><div class="documentation"><nav data-tilepieces-component="documentation/documentation-nav" class="tilepieces-documentation-nav"><a href="/" class="logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
  <g>
    <polygon style="fill:#000;" points="97.1,2.8 35.3,2.8 35.3,2.8 2.7,2.8 2.7,2.8 2.7,2.8 2.7,17.2 97.1,17.2 	"></polygon>
    <rect x="47.3" y="74" style="fill:#000;" width="49.9" height="23.3"></rect>
    <polygon style="fill:#000;" points="2.7,33.7 2.7,60.1 2.7,60.1 2.7,97.2 11.8,97.2 30.2,97.2 30.2,33.7 	"></polygon>
    <path style="fill:#000;" d="M79.1,57.1c0.3,0,0.5,0,0.8,0c3.5,0,5.7,0,5.8,0c6.5,0,11.7-5.2,11.7-11.7s-5.2-11.7-11.7-11.7
		c-0.1,0-25.1,0-38.4,0l0,23.4H79.1z"></path>
  </g>
</svg></a>



  <a href="#navigation-index" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation" id="navigation-trigger">Menu</a><div class="version">Tilepieces documentation version 0.1.x</div><section id="navigation-index">
    <ol class="">
      <li><span class="ol-counter">1</span><a href="/documentation/">Introduction<br></a></li><li><span class="ol-counter">2</span>



      <details>
        <summary><a href="/documentation/core-concepts/">core concepts</a></summary><ol>
        <li><span class="ol-counter">2.1</span><a href="/documentation/core-concepts/html-live-edit/">html live edit</a></li><li><span class="ol-counter">2.2</span><a href="/documentation/core-concepts/current-stylesheet/">current stylesheet<br></a></li>
      </ol>
      </details></li><li><span class="ol-counter">3</span>
      <details>
        <summary><a href="/documentation/UI/">UI</a></summary><ol>
        <li><span class="ol-counter">3.1</span><a href="/documentation/UI/navigation-menu/">Navigation menu</a></li><li><span class="ol-counter">3.2</span><a href="/documentation/UI/element-selector/">Element selector</a></li><li><span class="ol-counter">3.3</span><a href="/documentation/UI/text-editor/">Text Editor</a></li><li><span class="ol-counter">3.4</span><a href="/documentation/UI/frame/">Frame</a></li><li><span class="ol-counter">3.5</span><a href="/documentation/UI/panels/">Panels<br></a></li><li><span class="ol-counter">3.6</span><a href="/documentation/UI/dialog/">dialog</a></li>
      </ol>
      </details>


    </li><li><span class="ol-counter">4</span>
      <details>
        <summary><a href="/documentation/panels/">Panels</a></summary><ol class="">
        <li><span class="ol-counter">4.1</span>




          <details>
            <summary><a href="/documentation/panels/package-manager/">Package Manager</a></summary>

            <ol><li><span class="ol-counter">4.1.1</span><a href="/documentation/panels/package-manager/projects/">Projects</a></li><li><span class="ol-counter">4.1.2</span><a href="/documentation/panels/package-manager/project-settings/">Project settings</a></li><li><span class="ol-counter">4.1.3</span><a href="/documentation/panels/package-manager/general-settings/">General settings</a></li><li><span class="ol-counter">4.1.4</span><a href="/documentation/panels/package-manager/component-properties/">Component properties</a></li><li><span class="ol-counter">4.1.5</span><a href="/documentation/panels/package-manager/local-components/">Local Component</a></li><li><span class="ol-counter">4.1.6</span><a href="/documentation/panels/package-manager/global-components/">Global Components</a></li></ol>
          </details>
        </li><li><span class="ol-counter">4.2</span><a href="/documentation/panels/project-explorer/">Project Explorer</a></li><li><span class="ol-counter">4.3</span>




        <details>
          <summary><a href="/documentation/panels/html-inspector/">Html Inspector</a></summary>

          <ol>
            <li><span class="ol-counter">4.3.1</span><a href="/documentation/panels/html-inspector/actions/">Actions</a></li>
          </ol>
        </details>
      </li><li><span class="ol-counter">4.4</span><details>
        <summary><a href="/documentation/panels/css-viewer/">Css viewer</a></summary>

        <ol>

          <li><span class="ol-counter">4.4.1</span><a href="/documentation/panels/css-viewer/how-to-insert-css-rules/">How to insert CSS Rules</a></li><li><span class="ol-counter">4.4.2</span><a href="/documentation/panels/css-viewer/inspector/">Inspector</a></li><li><span class="ol-counter">4.4.3</span><a href="/documentation/panels/css-viewer/layout/">Layout</a></li><li><span class="ol-counter">4.4.4</span><a href="/documentation/panels/css-viewer/text/">Text</a></li><li><span class="ol-counter">4.4.5</span><a href="/documentation/panels/css-viewer/background/">Background</a></li><li><span class="ol-counter">4.4.6</span><a href="/documentation/panels/css-viewer/border/">Border</a></li><li><span class="ol-counter">4.4.7</span><a href="/documentation/panels/css-viewer/transform/">Transform</a></li><li><span class="ol-counter">4.4.8</span><a href="/documentation/panels/css-viewer/animations/">Animations</a></li><li><span class="ol-counter">4.4.9</span><a href="/documentation/panels/css-viewer/fonts/">Fonts</a></li></ol>
      </details></li><li><span class="ol-counter">4.5</span>
        <details>
          <summary>
            <a href="/documentation/panels/components/">Components</a>
          </summary>
          <ol>
            <li>
              <span class="ol-counter">4.5.1</span>
              <a href="/documentation/panels/components/standard-tag/">Standard Tag</a>
            </li>

            <li>
              <span class="ol-counter">4.5.2</span>
              <a href="/documentation/panels/components/components/">Components</a>
            </li>
            <li>
              <span class="ol-counter">4.5.3</span>
              <a href="/documentation/panels/components/UFT8-characters/">UFT8 Characters</a>
            </li>

          </ol>
        </details>
      </li><li><span class="ol-counter">4.6</span>
        <details>
          <summary>
            <a href="/documentation/panels/element/">Element</a>
          </summary>
          <ol>
            <li><span class="ol-counter">4.6.1</span><a href="/documentation/panels/element/main/">Main</a>
            </li>
            <li><span class="ol-counter">4.6.2</span><a href="/documentation/panels/element/children/">Children</a>
            </li>
            <li><span class="ol-counter">4.6.3</span><a href="/documentation/panels/element/component-interface/">Component Interface</a>
            </li>
          </ol>
        </details>
      </li><li><span class="ol-counter">4.7</span><a href="/documentation/panels/history/">History</a></li>
        <li><span class="ol-counter">4.8</span><a href="/documentation/panels/screen-dimensions/">Screen dimensions</a></li><li><span class="ol-counter">4.9</span><a href="/documentation/panels/codemirror-editor/">Codemirror editor</a></li><li><span class="ol-counter">4.10</span><a href="/documentation/panels/colorpicker/">Colorpicker</a></li></ol>
      </details>
    </li><li><span class="ol-counter">5</span>
      <details>
        <summary><a href="/documentation/data-structures/">Data structures</a></summary><ol>
        <li><span class="ol-counter">5.1</span><a href="/documentation/data-structures/project/">Project</a></li>
        <li><span class="ol-counter">5.2</span><a href="/documentation/data-structures/component/">Component</a></li><li><span class="ol-counter">5.3</span><a href="/documentation/data-structures/general-settings/">General Settings</a></li></ol>
      </details>


    </li>
      <li class="select"><span class="ol-counter">6</span>
        <details>
          <summary><a href="/documentation/api/">API</a></summary><ol><li><span class="ol-counter">6.1</span>




          <details>
            <summary><a href="/documentation/api/storage/">Storage</a></summary>

            <ol><li><span class="ol-counter">6.1.1</span><a href="/documentation/api/storage/create/">Create</a></li><li><span class="ol-counter">6.1.2</span><a href="/documentation/api/storage/read/">Read</a></li><li><span class="ol-counter">6.1.3</span><a href="/documentation/api/storage/update/">Update</a></li><li><span class="ol-counter">6.1.4</span><a href="/documentation/api/storage/delete/">Delete</a></li><li><span class="ol-counter">6.1.5</span><a href="/documentation/api/storage/copy/">Copy</a></li><li><span class="ol-counter">6.1.6</span><a href="/documentation/api/storage/search/">Search</a></li><li><span class="ol-counter">6.1.7</span><a href="/documentation/api/storage/getSettings/">Get Settings</a></li><li><span class="ol-counter">6.1.8</span><a href="/documentation/api/storage/setSettings/">Set Settings</a></li><li><span class="ol-counter">6.1.9</span><a href="/documentation/api/storage/createComponent/">Create component</a></li><li><span class="ol-counter">6.1.10</span><a href="/documentation/api/storage/deleteComponent/">Delete component</a></li></ol>
          </details>
        </li><li><span class="ol-counter">6.2</span>




          <details>
            <summary><a href="/documentation/api/html/">HTML</a></summary>

            <ol><li><span class="ol-counter">6.2.1</span><a href="/documentation/api/html/addClass/">addClass</a></li><li><span class="ol-counter">6.2.2</span><a href="/documentation/api/html/addColumn/">addColumn</a></li><li><span class="ol-counter">6.2.3</span><a href="/documentation/api/html/after/">after</a></li><li><span class="ol-counter">6.2.4</span><a href="/documentation/api/html/append/">append</a></li><li><span class="ol-counter">6.2.5</span><a href="/documentation/api/html/before/">before</a></li><li><span class="ol-counter">6.2.6</span><a href="/documentation/api/html/createCaption/">createCaption</a></li><li><span class="ol-counter">6.2.7</span><a href="/documentation/api/html/createTFoot/">createTFoot</a></li><li><span class="ol-counter">6.2.8</span><a href="/documentation/api/html/createTHead/">createTHead</a></li><li><span class="ol-counter">6.2.9</span><a href="/documentation/api/html/deleteCaption/">deleteCaption</a></li><li><span class="ol-counter">6.2.10</span><a href="/documentation/api/html/deleteCell/">deleteCell</a></li><li><span class="ol-counter">6.2.11</span><a href="/documentation/api/html/deleteColumn/">deleteColumn</a></li><li><span class="ol-counter">6.2.12</span><a href="/documentation/api/html/deleteRow/">deleteRow</a></li><li><span class="ol-counter">6.2.13</span><a href="/documentation/api/html/deleteTFoot/">deleteTFoot</a></li><li><span class="ol-counter">6.2.14</span><a href="/documentation/api/html/deleteTHead/">deleteTHead</a></li><li><span class="ol-counter">6.2.15</span><a href="/documentation/api/html/innerHTML/">innerHTML</a></li><li><span class="ol-counter">6.2.16</span><a href="/documentation/api/html/insertAdjacentElement/">insertAdjacentElement</a></li><li><span class="ol-counter">6.2.17</span><a href="/documentation/api/html/insertCell/">insertCell</a></li><li><span class="ol-counter">6.2.18</span><a href="/documentation/api/html/insertRow/">insertRow</a></li><li><span class="ol-counter">6.2.19</span><a href="/documentation/api/html/move/">move</a></li><li><span class="ol-counter">6.2.20</span><a href="/documentation/api/html/outerHTML/">outerHTML</a></li><li><span class="ol-counter">6.2.21</span><a href="/documentation/api/html/prepend/">prepend</a></li><li><span class="ol-counter">6.2.22</span><a href="/documentation/api/html/removeAttribute/">removeAttribute</a></li><li><span class="ol-counter">6.2.23</span><a href="/documentation/api/html/removeChild/">removeChild</a></li><li><span class="ol-counter">6.2.24</span><a href="/documentation/api/html/removeClass/">removeClass</a></li><li><span class="ol-counter">6.2.25</span><a href="/documentation/api/html/replaceWith/">replaceWith</a></li><li><span class="ol-counter">6.2.26</span><a href="/documentation/api/html/setAttribute/">setAttribute</a></li><li><span class="ol-counter">6.2.27</span><a href="/documentation/api/html/style/">style</a></li></ol>
          </details>
        </li><li><span class="ol-counter">6.3</span>




          <details>
            <summary><a href="/documentation/api/css/">CSS</a></summary>

            <ol><li><span class="ol-counter">6.3.1</span><a href="/documentation/api/css/appendKeyframe/">appendKeyframe</a></li><li><span class="ol-counter">6.3.2</span><a href="/documentation/api/css/createCurrentStyleSheet/">createCurrentStyleSheet</a></li><li><span class="ol-counter">6.3.3</span><a href="/documentation/api/css/deleteCssRule/">deleteCssRule</a></li><li><span class="ol-counter">6.3.4</span><a href="/documentation/api/css/deleteKeyframe/">deleteKeyframe</a></li><li><span class="ol-counter">6.3.5</span><a href="/documentation/api/css/insertCssRule/">insertCssRule</a></li><li><span class="ol-counter">6.3.6</span><a href="/documentation/api/css/setCss/">setCss</a></li><li><span class="ol-counter">6.3.7</span><a href="/documentation/api/css/setCssMedia/">setCssMedia</a></li><li><span class="ol-counter">6.3.8</span><a href="/documentation/api/css/setCssProperty/">setCssProperty</a></li><li><span class="ol-counter">6.3.9</span><a href="/documentation/api/css/setCurrentStyleSheet/">setCurrentStyleSheet</a></li><li><span class="ol-counter">6.3.10</span><a href="/documentation/api/css/setKeyText/">setKeyText</a></li><li><span class="ol-counter">6.3.11</span><a href="/documentation/api/css/setRuleName/">setRuleName</a></li><li><span class="ol-counter">6.3.12</span><a href="/documentation/api/css/setSelectorText/">setSelectorText</a></li></ol>
          </details>
        </li>

        </ol>
        </details>




      </li><li><span class="ol-counter">7</span><a href="/documentation/using-tilepieces-with-browser-developer-tools/">using tilepieces with browser developer tools</a></li></ol>
  </section></nav><main>    <h1>API</h1>    <div>Tilepieces exposes <a href="https://en.wikipedia.org/wiki/API" target="_blank">API</a>s for file read / write operations, dom and css modification operations.<br></div>  <dl>    <dt><a href="storage/">Storage</a></dt>    <dd>They are for file read/write operations,&nbsp;and are meant to be modified by developers to use their preferred <a href="https://en.wikipedia.org/wiki/Frontend_and_backend">backend</a> environment.</dd>  <dt><a href="html/">HTML</a> and <a href="css/">CSS</a></dt><dd>These are provided by the application framework, and allow you to edit the html safely (see <a href="/documentation/core-concepts/html-live-edit/">html live edit</a>) and its stylesheet (see <a href="#">current stylesheet</a>).</dd></dl><div><span>These APIs can be called directly from the browser console, or they can be included in a component panel or interface.</span><br><span>APIs that modify HTML or CSS expect a document to be selected, and can interact with these properties of the <code>tilepieces </code>object</span>&nbsp;(instantiated as a global variable in the main window):<pre><code class="hljs language-javascript"><span class="hljs-comment">// the tilepieces object is global in the main window<br></span><span class="hljs-comment">// storageInterface should be both global and exposed on tilepieces.storageInterface<br></span>tilepieces.<span class="hljs-property">core</span>.<span class="hljs-property">currentWindow</span> <span class="hljs-comment">// The window of the selected document<br></span>tilepieces.<span class="hljs-property">core</span>.<span class="hljs-property">currentDocument</span> <span class="hljs-comment">// The selected document element<br></span>tilepieces.<span class="hljs-property">core</span>.<span class="hljs-property">currentStyleSheet</span> <span class="hljs-comment">// current stylesheet, if any<br></span>tilepieces.<span class="hljs-property">elementSelected</span> <span class="hljs-comment">// selected element, if any</span></code>    </pre></div><h2>EXAMPLES</h2><p><span>The API to modify the current document can be useful for example to modify many nodes at once.&nbsp;</span><span>In this example, we add the target="_ blank" attribute to the A tags present in the selected element:</span></p><pre><code class="hljs language-javascript"><span class="hljs-comment">// the tilepieces object is global in the top window<br></span><span class="hljs-keyword">var</span> aNodes = tilepieces.<span class="hljs-property">elementSelected</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">"a"</span>);<br>aNodes.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">aNode</span>=&gt;</span>{  <br>    <span class="hljs-keyword">try</span>{    <br>      tilepieces.<span class="hljs-property">core</span>.<span class="hljs-property">htmlMatch</span>.<span class="hljs-title function_">setAttribute</span>(aNode,<span class="hljs-string">"target"</span>,<span class="hljs-string">"_blank"</span>)  <br>    }  <br>    <span class="hljs-keyword">catch</span>(e){    <br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(e);  <br>    }<br>});</code>    </pre><div>The storage APIs are indicated when you want to make changes to multiple html at a time, as shown in this example:</div><pre><code class="hljs language-javascript"><span class="hljs-keyword">var</span> app = tilepieces;<br><span class="hljs-keyword">var</span> htmlfiles = <span class="hljs-keyword">await</span> app.<span class="hljs-property">storageInterface</span>.<span class="hljs-title function_">search</span>(<span class="hljs-string">""</span>, <span class="hljs-string">"**/*/"</span>); <br><span class="hljs-comment">// all html files in project<br></span><span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; htmlfiles.<span class="hljs-property">searchResult</span>.<span class="hljs-property">length</span>; i++) {    <br>    <span class="hljs-keyword">var</span> htmlfilePath = htmlfiles.<span class="hljs-property">searchResult</span>[i];    <br>    <span class="hljs-keyword">var</span> htmlfile = <span class="hljs-keyword">await</span> app.<span class="hljs-property">storageInterface</span>.<span class="hljs-title function_">read</span>(htmlfilePath);    <br>    <span class="hljs-comment">// we use native DOMParser to be able to make changes via the DOM API.</span>    <br>    <span class="hljs-keyword">var</span> parser = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DOMParser</span>();    <br>    <span class="hljs-keyword">var</span> doc = parser.<span class="hljs-title function_">parseFromString</span>(htmlfile, <span class="hljs-string">"text/html"</span>);<br>    <span class="hljs-comment">// do whatever you want with doc ...<br></span>    <span class="hljs-comment">// then save<br></span>    <span class="hljs-keyword">var</span> s = app.<span class="hljs-title function_">createDocumentText</span>(doc);<br>    <span class="hljs-keyword">await</span> app.<span class="hljs-property">storageInterface</span>.<span class="hljs-title function_">update</span>(htmlfilePath, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Blob</span>([s]));<br>}</code>    </pre><div>We can also use the storage API to extract data: the following example traces all the html files that contain the IMG tag.</div><pre><code class="hljs language-javascript"><span class="hljs-keyword">var</span> images = [];<br><span class="hljs-keyword">var</span> app = tilepieces;<br><span class="hljs-keyword">var</span> htmlfiles = <span class="hljs-keyword">await</span> app.<span class="hljs-property">storageInterface</span>.<span class="hljs-title function_">search</span>(<span class="hljs-string">""</span>, <span class="hljs-string">"**/*/"</span>);<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; htmlfiles.<span class="hljs-property">searchResult</span>.<span class="hljs-property">length</span>; i++) {<br>  <span class="hljs-keyword">var</span> htmlfilePath = htmlfiles.<span class="hljs-property">searchResult</span>[i];<br>  <span class="hljs-keyword">var</span> htmlfile = <span class="hljs-keyword">await</span> app.<span class="hljs-property">storageInterface</span>.<span class="hljs-title function_">read</span>(htmlfilePath);<br>  <span class="hljs-keyword">var</span> parser = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DOMParser</span>();<br>  <span class="hljs-keyword">var</span> doc = parser.<span class="hljs-title function_">parseFromString</span>(htmlfile, <span class="hljs-string">"text/html"</span>);<br>  doc.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">"img"</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">v</span> =&gt;</span> images.<span class="hljs-title function_">push</span>({<br>    <span class="hljs-attr">srcAttribute</span>: v.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">"src"</span>),<br>    <span class="hljs-attr">srcFromMiscellaneous</span>: v.<span class="hljs-property">src</span>?.<span class="hljs-title function_">split</span>(app.<span class="hljs-property">miscDir</span> + <span class="hljs-string">"/"</span>)?.<span class="hljs-title function_">pop</span>(),<br>    <span class="hljs-attr">src</span>: v.<span class="hljs-property">src</span>,<br>    <span class="hljs-attr">path</span>: htmlfilePath<br>  }))<br>}<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(images);</code>    </pre></main></div><script src="/components/documentation/bundle/documentation.js" data-tilepieces-component="documentation/bundle"></script></body></html>